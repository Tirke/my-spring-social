<html
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:th="http://www.thymeleaf.org"
    layout:decorate="~{layout/layout}">

<body>
<section layout:fragment="content">
  <h1 class="title">Spring Social</h1>

  <div th:each="event : ${events}">
    <div class="col s12 m6">

      <div class="card blue-grey darken-1">
        <p class="btn-floating halfway-fab waves-effect waves-light blue">
          <i class="material-icons" th:text="${event?.icone}"/>
        </p>

        <div>
          <p th:text="${event?.description}"/>
          <div th:if="${event?.content != null}">
            <p th:if="${#strings.contains(event?.content, 't.co')}" th:text="${#strings.substringBefore(event?.content, 'https://t.co')}"/>
            <p th:if="${!#strings.contains(event?.content, 't.co')}" th:text="${event?.content}"></p>
          </div>

          <div th:each="media : ${event?.medias}">
            <img th:src="${media}" height="80" width="auto"/>
          </div>

        </div>

        <div>
          <div th:if="${event?.linkedTo != null}">
            <!--<p th:text="${event?.linkedTo?.content} + ' de ' + ${event?.linkedTo?.author}"/>-->
              <div th:each="media : ${event?.linkedTo?.medias}">
                <img th:src="${media}" height="80" width="auto"/>
              </div>
            <p th:if="${#strings.contains(event?.linkedTo?.content, 't.co')}" th:text="${#strings.substringBefore(event?.linkedTo?.content, 'https://t.co')} + ' de ' + ${event?.linkedTo?.author}"/>
            <p th:if="${!#strings.contains(event?.linkedTo?.content, 't.co')}" th:text="${event?.linkedTo?.content} + ' de ' + ${event?.linkedTo?.author}"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</section>
</body>
</html>


<!--<html-->
<!--xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--xmlns:th="http://www.thymeleaf.org"-->
<!--layout:decorate="~{layout/layout}">-->

<!--<body>-->
<!--<section layout:fragment="content">-->
<!--<h1 class="title">Spring Social</h1>-->

<!--<div th:each="event : ${events}">-->
<!--<div class="col s12 m6">-->

<!--<input th:value="${event?.content}"/>-->
<!--<p>blabls,dklejfjkzendfunejbqsdjfsdhf</p>-->
<!--<div class="card blue-grey darken-1">-->
<!--&lt;!&ndash; <div th:if="${event.eventType != T(fr.miage.m2.myspringsocial.event.EventType).POST}">-->
<!--<div th:if="${event.linkedTo == event.id}">-->

<!--</div>-->
<!--</div>&ndash;&gt;-->

<!--<p class="btn-floating halfway-fab waves-effect waves-light blue">-->
<!--<i class="material-icons" th:text="${event?.icone}"/>-->
<!--</p>-->


<!--<div th:text="${event?.description}">-->
<!--<div th:if="${event?.content != null}">-->
<!--<p th:text="${event?.content}"/>-->
<!--</div>-->

<!--<div th:each="media : ${event?.medias}">-->
<!--<input th:text="${media}"/>-->
<!--<input th:text="${event?.medias}"/>-->
<!--<img th:src="${media}" height="80" width="80"/>-->
<!--<input th:text="${event?.medias}"/>-->
<!--</div>-->

<!--</div>-->

<!--<div>-->
<!--<div th:if="${event?.linkedTo != null}">-->
<!--<p th:text="${event?.linkedTo?.content} + ' de ' + ${event?.linkedTo?.author}"/>-->
<!--<div th:if="${envent?.linkedTo?.medias != null}">-->
<!--<div th:each="media : ${event?.linkedTo?.medias}">-->
<!--<img th:src="${media}" height="80" width="80"/>-->
<!--</div>-->
<!--</div>-->

<!--</div>-->
<!--</div>-->

<!--&lt;!&ndash; <div th:switch="${event?.eventType}">-->
<!--<div th:case="${T(fr.miage.m2.myspringsocial.event.EventType).SHARE}">-->
<!--<p th:text="'Vous avez partagé le contenu ' + ${event?.linkedTo?.content} + ' de ' + ${event?.linkedTo?.author}"/>-->
<!--<p class="btn-floating halfway-fab waves-effect waves-light blue">-->
<!--<i class="material-icons">share</i>-->
<!--</p>-->
<!--</div>-->

<!--<div th:case="${T(fr.miage.m2.myspringsocial.event.EventType).LIKE}">-->
<!--<p th:text="'Vous avez aimé le contenu ' + ${event?.linkedTo?.content} + ' de ' + ${event?.linkedTo?.author}"/>-->
<!--<p class="btn-floating halfway-fab waves-effect waves-light blue">-->
<!--<i class="material-icons">favorite</i>-->
<!--</p>-->
<!--</div>-->

<!--<div th:case="${T(fr.miage.m2.myspringsocial.event.EventType).COMMENT}">-->
<!--<p th:text="'Vous avez commenté le contenu ' + ${event?.linkedTo?.content} + ' de ' + ${event?.linkedTo?.author}"/>-->
<!--<p class="btn-floating halfway-fab waves-effect waves-light blue">-->
<!--<i class="material-icons">mode_comment</i>-->
<!--</p>-->
<!--</div>-->
<!--</div>-->

<!--<div class="card-content white-text">-->
<!--<span class="card-title" th:text="${event?.eventType}"/>-->
<!--<p th:text="${event?.content}"/>-->
<!--<div th:each="media : ${event?.medias}">-->
<!--<img th:src="${media}" height="80" width="80"/>-->
<!--</div>-->

<!--</div>-->
<!--<div class="card-action">-->
<!--<p th:text="${event?.date}"/>-->
<!--<p th:text="${event?.author}"/>-->
<!--</div>&ndash;&gt;-->
<!--&lt;!&ndash;<div th:switch="${event?.eventType}">-->
<!--<p th:case="${T(fr.miage.m2.myspringsocial.event.EventType).LIKE}"-->
<!--class="btn-floating halfway-fab waves-effect waves-light blue"><i-->
<!--class="material-icons">favorite</i>-->
<!--</p>-->
<!--<p th:case="${T(fr.miage.m2.myspringsocial.event.EventType).COMMENT}"-->
<!--class="btn-floating halfway-fab waves-effect waves-light blue"><i-->
<!--class="material-icons">mode_comment</i>-->
<!--</p>-->
<!--<p th:case="${T(fr.miage.m2.myspringsocial.event.EventType).POST}"-->
<!--class="btn-floating halfway-fab waves-effect waves-light blue"><i-->
<!--class="material-icons">local_post_office</i>-->
<!--</p>-->
<!--<p th:case="${T(fr.miage.m2.myspringsocial.event.EventType).SHARE}"-->
<!--class="btn-floating halfway-fab waves-effect waves-light blue"><i-->
<!--class="material-icons">share</i>-->
<!--</p>-->

<!--</div>&ndash;&gt;-->


<!--</div>-->
<!--</div>-->
<!--</div>-->

<!--</section>-->
<!--</body>-->
<!--</html>-->
